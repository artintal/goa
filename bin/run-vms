#!/bin/sh
#
# Usage: startup-vms NUM
# start up all NUM VM overlays
#
# NUM - number of machines to start up,
#       alternately the range of numbers,
#       args fed to `seq'
# 
. $(dirname $0)/common

if [ ! $(basename $(pwd)) == "optimization" ];then
    echo "must run this from the optimization directory" >&2;
    exit 1
fi

for i in $(seq $@);do
    I=$(printf "%0.2d" $i);
    msg "starting $I"
    $(dirname $0)/run-vm "overlays/$I.qcow" "30$I" \
        || error "error starting overlays/$I.qcow at 30$I"
done
reset
exit 0
